<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Управление историей для пользы и развлечения | WebReference</title>
<meta charset="utf-8" />
<link rel="up" href="../diveintohtml5.html" />
<link rel="prev" href="extensibility.html" />
<meta name="description" content="Адресная строка браузера это, пожалуй, наиболее чокнутая часть пользовательского интерфейса в мире. Адреса сайтов есть на рекламных щитах, на поездах и даже на уличных граффити. В сочетании с кнопкой «Назад» — наиболее важной кнопкой в браузере — у вас есть мощный способ двигаться вперед и назад через огромное множество взаимосвязанных ресурсов называемых вебом. API истории HTML5 представляет собой стандартизированный способ манипулировать историей браузера через скрипт. Часть этого API — навигация по истории — была доступна в предыдущих версиях HTML. Новые части в HTML5 включают способ добавления записей в историю браузера, чтобы заметно изменить URL в адресной строке браузера (без переключения обновления страницы) и события, которые запускаются, когда эти записи удаляются из стека пользователя нажатием кнопки браузера «Назад». Это означает, что URL в адресной строке браузера может продолжать выполнять свою работу как уникальный идентификатор для текущего ресурса, даже в приложениях нагруженными скриптами, которые не всегда выполняют полное обновление страницы." />
<link rel="canonical" href="history.html" />
<link type="text/css" rel="stylesheet" href="../../assets/css/css_GmPV_e3YNAzxsGyZNJb8l3jyzuLiXRRwUYoy5enMRkM.css" media="all" />
<link type="text/css" rel="stylesheet" href="../../assets/css/css_2H3Dgnhk-GMIhlAAevncWEQeqNkZ7SjzqGb8OfLzzuU.css" media="screen" />
</head>
<body>
<main>
<div class="off-canvas-wrap" data-offcanvas><div class="inner-wrap"><header><div class="row"><div class="small-12 large-4 columns logo"><a href="../../index.html">WebReference<span>.</span>ru</a></div><nav class="small-10 large-7 columns topmenu"><div class="region region-menu"><div id="system-main-menu" class="block"><div class="block_content"><ul class="menu"><li class="first leaf"><a href="../../ref.html" title="">Справочники</a></li><li class="leaf"><a href="../../layout.html" title="">Вёрстка</a></li><li class="leaf"><a href="../../dev.html" title="">Веб-технологии</a></li><li class="leaf"><a href="../../mobile.html" title="">Мобильные приложения</a></li><li class="last leaf"><a href="../../course.html">Курсы</a></li></ul></div></div></div></nav><div class="small-2 large-1 columns search"><div id="search-button"></div><form action="https://webref.ru/search/" id="cse-search-box"><input type="search" placeholder="Поиск по сайту" name="s" autocomplete="off" id="cse-search-input"><input type="hidden" name="cx" value="partner-pub-0708135098984815:9970767379"><input type="hidden" name="cof" value="FORID:10"><input type="hidden" name="ie" value="UTF-8"></form></div></div></header><div class="title"><div class="row"><div class="small-12 columns"><h1>Управление историей для пользы и развлечения</h1></div></div></div><div class="breadcrumb"><div class="row"><div class="small-12 columns"><div class="region region-crumbs"><div id="easy_breadcrumb-easy_breadcrumb" class="block"><div class="block_content"><div class="easy-breadcrumb"><a href="../../index.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-front">Главная</a><span class="easy-breadcrumb_segment-separator"> / </span><a href="../../layout.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-1">Вёрстка</a><span class="easy-breadcrumb_segment-separator"> / </span><a href="../diveintohtml5.html" class="easy-breadcrumb_segment easy-breadcrumb_segment-2">Погружение в HTML5</a><span class="easy-breadcrumb_segment-separator"> / </span><span class="easy-breadcrumb_segment easy-breadcrumb_segment-title">Управление историей для пользы и развлечения</span></div></div></div></div></div></div></div><div class="row"><div class="medium-12 large-9 columns main-section"><div class="region region-content"><div id="system-main" class="block"><p> Адресная строка браузера это, пожалуй, наиболее чокнутая часть пользовательского интерфейса в мире. Адреса сайтов есть на рекламных щитах, на поездах и даже на уличных граффити. В сочетании с кнопкой «Назад»&nbsp;— наиболее важной кнопкой в браузере&nbsp;— у вас есть мощный способ двигаться вперед и назад через огромное множество взаимосвязанных ресурсов называемых вебом.</p><p> <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html">API истории HTML5</a> представляет собой стандартизированный способ манипулировать историей браузера через скрипт. Часть этого API&nbsp;— навигация по истории&nbsp;— была доступна в предыдущих версиях HTML. Новые части в HTML5 включают способ добавления записей в историю браузера, чтобы заметно изменить URL в адресной строке браузера (без переключения обновления страницы) и события, которые запускаются, когда эти записи удаляются из стека пользователя нажатием кнопки браузера «Назад». Это означает, что URL в адресной строке браузера может продолжать выполнять свою работу как уникальный идентификатор для текущего ресурса, даже в приложениях нагруженными скриптами, которые не всегда выполняют полное обновление страницы.</p><h2>Зачем</h2><p>Почему бы вам вручную не изменять адресную строку браузера? В конце концов, простая ссылка может перейти на новый URL, этот способ работал в течение 20 лет. И он будет продолжать работать таким образом. Этот API не пытается подорвать веб. Как раз наоборот. В последние годы веб-разработчики нашли новые и увлекательные способы подрыва веба без какой-либо помощи со стороны новых стандартов. API истории HTML5 на самом деле предназначен для того, чтобы адреса продолжали быть полезными в веб-приложениях нагруженных скриптами.</p><p class="leftpic"><img src="../../assets/images/diveintohtml5/demon_reading_Stewart_Orr.png" alt="" width="218" height="231" /></p><p> Возвращаясь к изначальным принципам, что теперь делает URL? Он определяет уникальный ресурс. Вы можете указать ссылку напрямую, добавить её в закладки, поисковые системы её индексируют, вы можете скопировать и вставить её, отправить по почте кому-то ещё, кто может нажать ссылку и в конечном итоге увидит тот же ресурс, что и вы первоначально. Все эти прекрасные качества URL сохраняются.</p><p> Поэтому мы хотим, чтобы уникальные ресурсы имели уникальный URL. Но в то же время браузеры всегда имели фундаментальное ограничение: если вы измените URL, даже через скрипт, это включит запрос к удалённому веб-серверу и приведёт к обновлению страницы. Это требует времени и ресурсов, что, кажется, особенно расточительно, когда вы перемещаетесь на страницу, которая в значительной степени похожа на текущую. Всё на новой странице будет загружено, включая те части, которые точно такие же, как на текущей странице. Нет способа сказать браузеру изменить URL и загрузить только половину страницы.</p><p> API истории HTML5 позволяет сделать это. Вместо запуска полного обновления страницы вы можете использовать скрипт, который, в сущности, скачивает половину страницы. Эта иллюзия довольно хитрая для воплощения и потребует некоторых усилий с вашей стороны. Вы внимательно следите?</p><p class="rightpic"><img src="../../assets/images/diveintohtml5/card_trick.png" alt="" width="287" height="238" /></p><p>Скажем, у вас есть две страницы, страница А и страница Б. Две страницы на 90% идентичны и только 10% содержимого страниц различается. Пользователь переходит на страницу А, затем пытается перейти к странице Б. Но вместо запуска полного обновления страницы, вы прерываете эту навигацию и совершаете следующие шаги вручную:</p><ol><li>Загружаете 10% из страницы Б, которые отличаются от страницы А (возможно с помощью <span class="var">XMLHttpRequest</span>). Это потребует некоторых серверных изменения в вашем веб-приложении. Вам нужно будет написать код, который возвращает только 10% от страницы Б, отличающихся от страницы А. Это может быть скрытый URL или параметр запроса, невидимый конечному пользователю.</li><li>Обмениваете изменённое содержание (с использованием <span class="var">innerHtml</span> или других методов DOM). Вам также может понадобиться сбросить любой обработчик событий для элемента внутри обменного содержания.</li><li>Обновляете строку браузера с адресом страницы Б, используя особый метод из API истории HTML5, который я вам ещё покажу.</li></ol><p>В конце этой иллюзии (если выполнена правильно) браузер получает DOM идентичный странице Б, как если бы вы перешли страницу Б напрямую. Строка браузера будет содержать URL, который идентичен странице Б, как если бы вы перешли на страницу Б напрямую. Но в действительности вы не переходили на страницу Б и не делали полного обновления страницы. Это иллюзия. Но поскольку «компилированная» страница выглядит так же, как страница Б и имеет тот же URL, что у страницы Б, пользователь ни за что не заметит разницы (и не оценит ваш тяжёлый труд по микроуправлению этим опытом).</p><h2>Как</h2><p>API истории HTML5 это просто горстка методов объекта <span class="var">window.history</span> плюс одно событие в объекте <span class="var">window</span>. Вы можете использовать их, чтобы определить поддержку для API истории. Поддержка в настоящее время ограничивается последними версиями браузеров, помещая эти методы прямо в лагерь «прогрессивного улучшения».</p><table class="data browser"><caption>Поддержка истории</caption><tr class="br"><td><span class="ie">IE</span></td><td><span class="fx">Firefox</span></td><td><span class="sa">Safari</span></td><td><span class="cr">Chrome</span></td><td><span class="op">Opera</span></td><td><span class="ip">iPhone</span></td><td><span class="an">Android</span></td></tr><tr><td>10.0+</td><td>4.0+</td><td>5.0+</td><td>8.0+</td><td>11.10</td><td>4.2.1+</td><td>4.3+</td></tr></table><p><a href="http://diveintohtml5.info/examples/history/fer.html" class="ext">Dive into dogs</a> это простой, но не тривиальный пример использования API истории HTML5. Он демонстрирует типичный шаблон: большая статья со связанной встроенной фотогалереей. В поддерживаемых браузерах нажатие на ссылки Next и Previous в фотогалерее будет обновлять фото в том же месте и обновлять URL в адресной строке браузера без запуска полного обновления страницы. В неподдерживаемых браузерах&nbsp;— или в действительности поддерживаемых браузерах, где пользователь отключил скрипты&nbsp;— ссылки просто работают как обычные ссылки, переводя вас на новую страницу с полным её обновлением.</p><p>Давайте обратимся к демо и посмотрим, как оно работает. Это соответствующий код для одной фотографии.</p><p class="exampleTitle">Наживка</p>
<pre><code data-language="html">&lt;aside id="gallery"&gt;
  &lt;p class="photonav"&gt;
    &lt;a id="photonext" href="casey.html"&gt;Next &amp;gt;&lt;/a&gt;
    &lt;a id="photoprev" href="adagio.html"&gt;&amp;lt; Previous&lt;/a&gt;
  &lt;/p&gt;
  &lt;figure id="photo"&gt;
    &lt;img id="photoimg" src="gallery/1972-fer-500.jpg"
            alt="Fer" width="500" height="375"&gt;
    &lt;figcaption&gt;Fer, 1972&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;/aside&gt;</code></pre>
<p>Ничего необычного здесь нет. Фотография это <span class="tag">&lt;img&gt;</span> внутри <span class="tag">&lt;figure&gt;</span>, ссылки просто очередные элементы <span class="tag">&lt;a&gt;</span> и всё завернуто в <span class="tag">&lt;aside&gt;</span>. Важно, что это всего лишь обычные ссылки, которые действительно работают. Весь код следует после скрипта проверки. Если пользователь использует неподдерживаемый браузер, наш причудливый код из API истории никогда не будет выполнен. И конечно в целом всегда есть некоторые пользователи с отключенными скриптами.</p><p> Основная функция программы получить каждую из этих ссылок и передать её функции <span class="var">addClicker()</span>, которая делает фактическую работу по созданию пользовательского обработчика <span class="var">click</span>.</p>
<pre><code data-language="javascript">function setupHistoryClicks() {
   addClicker(document.getElementById(&quot;photonext&quot;));
   addClicker(document.getElementById(&quot;photoprev&quot;));
}</code></pre>
<p>Это функция <span class="var">addClicker()</span>. Она берёт элемент <span class="tag">&lt;a&gt;</span> и добавляет обработчик <span class="var">click</span>. С этим обработчиком получается интереснее.</p><p class="exampleTitle">Интерес</p>
<pre><code data-language="javascript">function addClicker(link) {
  link.addEventListener("click", function(e) {
    swapPhoto(link.href);
    history.pushState(null, null, link.href);
    e.preventDefault();
  }, false);
}</code></pre>
<p>Функция <span class="var">swapPhoto()</span> выполняет первые два шага из трёх нашей трёхэтапной иллюзии. В первой половине функции <span class="var">swapPhoto()</span> берётся часть адреса ссылки&nbsp;— casey.html, adagio.html и др.&nbsp;— и строится URL в скрытой странице, которая содержит только код, требуемый для следующей фотографии.</p>
<pre><code data-language="javascript">function swapPhoto(href) {
  var req = new XMLHttpRequest();
  req.open("GET",
           "http://diveintohtml5.info/examples/history/gallery/" +
             href.split("/").pop(),
           false);
  req.send(null);</code></pre>
<p>Этот образец разметки возвращает <a href="http://diveintohtml5.info/examples/history/gallery/casey.html" class="ext">http://diveintohtml5.info/examples/history/gallery/casey.html</a> (вы можете проверить это в браузере, вставив URL напрямую).</p>
<pre><code data-language="html">&lt;p class="photonav"&gt;
  &lt;a id="photonext" href="brandy.html"&gt;Next &amp;gt;&lt;/a&gt;
  &lt;a id="photoprev" href="fer.html"&gt;&amp;lt; Previous&lt;/a&gt;
&lt;/p&gt;
&lt;figure id="photo"&gt;
  &lt;img id="photoimg" src="gallery/1984-casey-500.jpg"
          alt="Casey" width="500" height="375"&gt;
  &lt;figcaption&gt;Casey, 1984&lt;/figcaption&gt;
&lt;/figure&gt;</code></pre>
<p>Выглядит знакомо? Так и должно быть. Это тот же основной код, что у исходной страницы, используемый для отображения первой фотографии.</p><p> Вторая половина функции <span class="var">swapPhoto()</span> выполняет второй шаг нашей трёхэтапной иллюзии: вставляет этот новый загруженный код в текущую страницу. Помните, что существует <span class="tag">&lt;aside&gt;</span> оборачивающий целиком изображение, фотографию и подпись. Вставка кода новой фотографии это шутка, достаточно установить свойство <span class="var">innerHtml</span> для <span class="tag">&lt;aside&gt;</span> в свойство <span class="var">responseText</span>, которое возвращается от <span class="var">XMLHttpRequest</span>.</p>
<pre><code data-language="javascript">  if (req.status == 200) {
    document.getElementById("gallery").innerHTML = req.responseText;
    setupHistoryClicks();
    return true;
  }
  return false;
}</code></pre>
<p>Также обратите внимание на вызов <span class="var">setupHistoryClicks()</span>. Это необходимо, чтобы сбросить пользовательский обработчик событий <span class="var">click</span> для новых вставленных ссылок. Установка <span class="var">innerHtml</span> стирает любые следы старых ссылок и их обработчиков событий.</p><p> Теперь давайте вернёмся к функции <span class="var">addClicker()</span>. После успешной смены фотографии есть ещё один шаг в нашей трёхэтапной иллюзии: установить URL в адресной строке браузера без перезагрузки страницы.</p><p class="exampleTitle">Превращение</p>
<pre><code data-language="javascript">history.pushState(null, null, link.href);</code></pre>
<p>Функция <span class="var">history.pushState()</span> содержит три параметра:</p><ol><li><span class="value">state</span> может быть любой структурой данных JSON. Он передаётся обратно обработчику событий <span class="var">popstate</span>, о котором вы узнаете чуть позже. Нам не нужно следить за <span class="value">state</span> в этой демонстрации, так что я оставил его как <span class="value">null</span>.</li><li><span class="value">title</span> может быть любой строкой. Этот параметр в настоящее время не используется основными браузерами. Если вы хотите установить заголовок страницы, вы должны сохранить его в аргументе <span class="value">state</span> и установить вручную в <span class="var">popstate</span>.</li><li><span class="value">url</span> может быть, ну, любым URL. Это URL, который должен отображаться в адресной строке браузера.</li></ol><p>Вызов <span class="var">history.pushState</span> немедленно изменит URL в адресной строке браузера. Так это конец иллюзии? Ну, не совсем. Нам ещё нужно сказать о том, что происходит, когда пользователь нажимает важную кнопку «Назад».</p><p> Обычно, когда пользователь переходит на новую страницу (с полным обновлением страницы), браузер помещает новый URL в стек истории, загружает и отрисовывает новую страницу. Когда пользователь нажимает кнопку «Назад», браузер сдвигает одну страницу в стеке истории и перерисовывает предыдущую страницу. Но что происходит теперь, когда вы сделали короткое замыкание этой навигации, чтобы избежать полного обновления страницы? Итак, вы поддельно «двинулись вперед» на новый URL, так что теперь необходимо также поддельно «двинуться назад» к предыдущему URL. И ключ к поддельному «двинуться назад» в событии <span class="var">popstate</span>.</p><p class="exampleTitle">Престиж</p>
<pre><code data-language="javascript">window.addEventListener("popstate", function(e) {
    swapPhoto(location.pathname);
});</code></pre>
<p>После того как вы использовали функцию <span class="var">history.pushState()</span> для смещения поддельного URL в стеке истории браузера, когда пользователь нажимает кнопку «Назад», в браузере срабатывает событие <span class="var">popstate</span> на объекте <span class="var">window</span>. Это ваш шанс завершить иллюзию раз и навсегда. Потому что не достаточно сделать исчезновение чего-то, вы также должны вернуть его.</p><p> В этой демонстрации «вернуть его» так же просто, как смена исходной фотографии, которую мы делаем с помощью вызова <span class="var">swapPhoto()</span> в текущей локации. К тому времени <span class="var">popstate</span> будет вызван, URL отображается в адресной строке браузера как изменённый на предыдущий URL. Кроме того, глобальное свойство <span class="var">location</span> уже было обновлено с предыдущим URL.</p><p> Чтобы помочь вам представить это, давайте пройдём по шагам через всю иллюзию от начала до конца:</p><ul><li>Пользователь загружает <a href="http://diveintohtml5.info/examples/history/fer.html" class="ext">http://diveintohtml5.info/examples/history/fer.html</a>, смотрит историю и фотографию Фер.</li><li>Пользователь щёлкает по ссылке Next, у элемента <span class="tag">&lt;a&gt;</span> атрибут <span class="attribute">href</span> установлен как <a href="http://diveintohtml5.info/examples/history/casey.html" class="ext">http://diveintohtml5.info/examples/history/casey.html</a>.</li><li>Вместо перехода на <a href="http://diveintohtml5.info/examples/history/casey.html" class="ext">http://diveintohtml5.info/examples/history/casey.html</a>с полной перезагрузкой страницы, пользовательский обработчик <span class="attribute">click</span> на элементе <span class="tag">&lt;a&gt;</span> перехватывает щелчок и выполняет собственный код.</li><li>Наш собственный обработчик <span class="var">click</span> вызывает функцию <span class="var">swapPhoto()</span>, которая создаёт объект <span class="var">XMLHttpRequest</span> для синхронной загрузки фрагмента HTML по адресу <a href="http://diveintohtml5.info/examples/history/gallery/casey.html" class="ext">http://diveintohtml5.info/examples/history/<strong>gallery</strong>/casey.html</a>.</li><li>Функция <span class="var">swapPhoto()</span> устанавливает свойство <span class="var">innerHTML</span> обёртке фотогалереи (элемент <span class="tag">&lt;aside&gt;</span>), тем самым заменив фотографию Фер на фотографию Кейси.</li><li><span id="result_box" class="long_text"><span style="background-color:rgb(255, 255, 255); "> Наконец, наш обработчик <span class="var">click</span> вызывает функцию </span></span><span class="var" style="background-color:rgb(255, 255, 255); ">history.pushState()</span><span class="long_text"><span style="background-color:rgb(255, 255, 255); ">, чтобы вручную изменить URL в адресной строке браузера на <a href="http://diveintohtml5.info/examples/history/casey.html" class="ext">http://diveintohtml5.info/examples/history/casey.html</a>. </span></span></li><li> Пользователь нажимает кнопку «Назад» браузера.</li><li>Браузер замечает, что URL вручную помещается в стек истории (по функции <span class="var">history.pushState()</span>). Вместо того, чтобы перейти на предыдущий URL и перерисовать всю страницу, браузер просто обновит адресную строку на предыдущий URL (<a href="http://diveintohtml5.info/examples/history/fer.html" class="ext">http://diveintohtml5.info/examples/history/fer.html</a>) и запустит событие <span class="var">popstate</span>.</li><li>Наш пользовательский обработчик <span class="var">popstate</span> снова вызовет функцию <span class="var">swapPhoto()</span>, на этот раз с предыдущим URL, что сейчас уже видно в адресной строке браузера.</li><li>Снова используя <span class="var">XMLHttpRequest</span>, функция <span class="var">swapPhoto()</span> загружает фрагмент HTML расположенный в <a href="http://diveintohtml5.info/examples/history/gallery/fer.html" class="ext">http://diveintohtml5.info/examples/history/<strong>gallery</strong>/fer.html</a> и устанавливает свойство <span class="var">innerHtml</span> для элемента <span class="tag">&lt;aside&gt;</span>, тем самым заменяя фотографию Кейси на фотографию Фер.</li></ul><p>Иллюзия завершена. Все видимые доказательства (содержание страницы и URL в адресной строке) убеждают пользователя, что у него был переход вперёд и назад на страницу. Но полного обновления страницы не происходит&nbsp;— всё это было тщательно выполненной иллюзией.</p><div id="block-17" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-0708135098984815" data-ad-slot="1599783371" data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div><h2>Дальнейшее чтение</h2><ul><li><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html" hreflang="en">Session history and navigation</a> в проекте стандарта HTML5</li><li><a href="https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history" hreflang="en">Manipulating the browser history</a> в Mozilla Developer Center</li><li><a href="http://html5demos.com/history" hreflang="en">Simple history API demo</a></li><li><a href="http://www.20thingsilearned.com/" hreflang="en">20 Things I Learned About Browsers and the Web</a>, продвинутая демонстрация по использованию API истории и других техник HTML5</li><li><a href="http://www.facebook.com/note.php?note_id=438532093919" hreflang="en">Using HTML5 today</a> описывает использование API истории на Facebook</li><li><a href="http://github.com/blog/760-the-tree-slider" hreflang="en">The Tree Slider</a>описывает использование API истории на GitHub</li><li><a href="http://github.com/balupton/History.js/" hreflang="en">History.js</a>, <abbr>API</abbr> для манипуляцией историей в новых и старых браузерах</li></ul><section class="row credit"><div class="columns small-6 credit-author"><i class="icon-user"></i> Автор: Марк Пилгрим</div><div class="columns small-6 credit-changed"><i class="icon-calendar"></i> Последнее изменение: 02.07.2015</div><div class="columns small-12 credit-editor"><i class="icon-users"></i> Редакторы: Клим Щербаков</div></section><script src="../../sites/all/themes/ori/js/mousetrap.min.js"></script>
<script>
Mousetrap.bind('mod+left', function()   { document.location ='/layout/diveintohtml5/extensibility'; });</script>
<div class="book-navigation row" id="book-navigation-bottom"><div class="small-6 columns page-previous"><a href="extensibility.html" title="На предыдущую страницу">Микроданные</a><br><span class="navigation-tooltip"><kbd>Ctrl</kbd>+<kbd>←</kbd></span></div><div class="small-6 columns page-next"></div></div><div id="block-9" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
ad = document.getElementById('block-9');
if (ad.getBoundingClientRect().width) {
adWidth = ad.getBoundingClientRect().width;
} else {
adWidth = ad.offsetWidth;
}
google_ad_client = "ca-pub-0708135098984815";
if (adWidth >= 728) { google_ad_size = ["728", "90"]; google_ad_slot = "1258944978"; }
else { google_ad_size = ["300", "250"]; google_ad_slot = "8016056172"; }
document.write (
'<ins class="adsbygoogle" style="display:inline-block;width:'
+ google_ad_size[0] + 'px;height:'
+ google_ad_size[1] + 'px" data-ad-client="'
+ google_ad_client + '" data-ad-slot="'
+ google_ad_slot + '"></ins>'
);
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div><div id="block-10" class="block"><div class="block_content"><div id="disqus_thread"></div>
<script>
var disqus_shortname = "webref";
(function() {
var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;
dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
})();
</script>
</div></div></div></div></div><aside class="large-3 columns right-off-canvas-menu"><div class="region region-sidebar-toc"><div id="book-navigation" class="block"><h2 class="block_title">Содержание</h2><div class="block_content"><ul class="menu"><li class="first leaf"><a href="introduction.html">Пять вещей, которые надо знать об HTML5</a></li><li class="leaf"><a href="past.html">Довольно предвзятая история HTML5</a></li><li class="leaf"><a href="detect.html">Проверка технологий HTML5</a></li><li class="leaf"><a href="semantics.html">Что всё это значит?</a></li><li class="leaf"><a href="canvas.html">Давайте порисуем</a></li><li class="leaf"><a href="video.html">Видео на сайте</a></li><li class="leaf"><a href="geolocation.html">Вы здесь</a></li><li class="leaf"><a href="storage.html">Локальное хранилище</a></li><li class="leaf"><a href="offline.html">Возьмём с собой</a></li><li class="leaf"><a href="forms.html">Сумасшедшие формы</a></li><li class="leaf"><a href="extensibility.html">Микроданные</a></li><li class="last leaf active-trail"><a href="history.html" class="active-trail active">Управление историей для пользы и развлечения</a></li></ul></div></div><div id="block-12" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:200px;height:200px" data-ad-client="ca-pub-0708135098984815" data-ad-slot="4025987772"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div></div></aside></div><div class="adv_footer"><div class="row"><div class="medium-12 hide-for-medium-down"><div class="region region-adv-footer"><div id="block-15" class="block"><div class="block_content">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
ad = document.getElementById('block-15');
if (ad.getBoundingClientRect().width) {
adWidth = ad.getBoundingClientRect().width;
} else {
adWidth = ad.offsetWidth;
}
google_ad_client = "ca-pub-0708135098984815";
if (adWidth >= 728) { google_ad_size = ["728", "90"]; google_ad_slot = "1258944978"; }
else { google_ad_size = ["300", "250"]; google_ad_slot = "8016056172"; }
document.write (
'<ins class="adsbygoogle" style="display:inline-block;width:'
+ google_ad_size[0] + 'px;height:'
+ google_ad_size[1] + 'px" data-ad-client="'
+ google_ad_client + '" data-ad-slot="'
+ google_ad_slot + '"></ins>'
);
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div></div></div></div></div></div><a class="exit-off-canvas"></a></div></div><div class="copyright"><div class="row"><div class="small-2 columns"><p><a href="http://creativecommons.org/licenses/by-nc/4.0/deed.ru" rel="nofollow"><img alt="Лицензия Creative Commons" src="../../sites/all/themes/ori/img/cc.png" width="88" height="31"></a></p></div><div class="small-10 columns"><p>Все материалы сайта доступны по <a href="http://creativecommons.org/licenses/by-nc/4.0/deed.ru" rel="nofollow">лицензии Creative Commons «Attribution-NonCommercial» («Атрибуция — Некоммерческое использование») 4.0 Всемирная</a>, если не указано иное.</p></div></div></div><footer><div class="row"><div class="medium-12 large-4 columns"><h4>О сайте</h4><p>На сайте находятся справочники по различным веб-технологиям, а также руководства по вёрстке веб-страниц и разработке мобильных приложений.</p><p class="about-last">Главный редактор: Влад Мержевич</p></div><div class="small-6 large-2 columns"><h4>Связи</h4><ul id="community"><li><i class="icon-rss"></i> <a href="https://feeds.feedburner.com/webref" rel="nofollow">RSS</a></li><li><i class="icon-jsfiddle"></i> <a href="https://jsfiddle.net/user/webref/fiddles/" rel="nofollow">JSFiddle</a></li><li><i class="icon-github"></i> <a href="https://github.com/webref" rel="nofollow">GitHub</a></li><li><i class="icon-vk"></i> <a href="https://vk.com/webref" rel="nofollow">ВКонтакте</a></li><li><i class="icon-doc-text"></i> <a href="https://drive.google.com/folderview?id=0B4u62HGG7TOnTVJ4aFlFa1Jpb2M" rel="nofollow">Google Диск</a></li></ul></div><div class="small-6 large-3 columns"><h4>Разделы сайта</h4><ul id="footer-menu" class="links"><li><i class="icon-book"></i> <a href="../../ref.html">Справочники</a></li><li><i class="icon-layout"></i> <a href="../../layout.html">Вёрстка</a></li><li><i class="icon-gear"></i> <a href="../../dev.html">Веб-технологии</a></li><li><i class="icon-mobile"></i> <a href="../../mobile.html">Мобильные приложения</a></li><li><i class="icon-bookmark"></i> <a href="../../course.html">Учебные курсы</a></li></ul></div><div class="small-12 medium-12 large-3 columns"><h4>Популярные материалы</h4><div class="region region-popular"><div id="views-popular-popular" class="block"><div class="block_content"><div class="view view-popular view-id-popular view-display-id-popular view-dom-id-c963c6da0df6515ca7c038aa3ea4d283"><div class="view-content"><ul><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../learn-html-css.html">Уроки по HTML и CSS</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../howtocodeinhtml.html">Как верстать на HTML5 и CSS3</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/html5.svg.png" src="../../assets/images/thumb/html5.svg" width="16" height="16" alt="" /> <a href="../html5-css3.html">HTML5 и CSS3 на примерах</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/css3.svg.png" src="../../assets/images/thumb/css3.svg" width="16" height="16" alt="" /> <a href="../magic-of-css.html">Магия CSS</a></li><li class="leaf"> <img class="svg-img size-icon" data-src="/assets/svgimg/icon/img-styles/images/thumb/jquery.svg.png" src="../../assets/images/thumb/jquery.svg" width="16" height="16" alt="" /> <a href="../../dev/jqfundamentals.html">Основы jQuery</a></li></ul></div></div></div></div></div></div></div><div class="row"><div class="small-12 columns counter">
<script src="../../sites/all/themes/ori/js/li.js"></script>
</div></div><a href="history.html#top"><div class="row"><div class="small-12 columns ontop">Наверх</div></div></a></footer></main>	
<script type="text/javascript" src="../../assets/js/js_cDfSr2FXPXcK1gvn1bGJotjGggYy9AyIYPQ5Hw_Sx7s.js"></script>
<script type="text/javascript" src="../../assets/js/js_H7q2xORKmR9AN8Qx5spKEIBp7R_wG2apAswJoCUZY7I.js"></script>
<script type="text/javascript" src="../../assets/js/js_Xmre84srNMv9IsL3EsmaMioO7AzocdnCMpWwTIu-jp8.js"></script>
<script type="text/javascript" src="../../assets/js/js_WCzLp6JdBrd-C4nO79XBCCg40n8pNJ8KLyzqGIFUryg.js"></script>
</body>
</html>